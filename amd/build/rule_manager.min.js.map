{"version":3,"sources":["amd/src/rule_manager.js"],"names":["define","require","exports","rules_1","actor_modal_1","core_helper_1","sensor_viewport_1","sensor_tab_1","sensor_idle_1","Object","defineProperty","value","RuleManager","[object Object]","lm","this","rules","actionQueue","moodleContext","_determineMoodleContext","moodleInstanceID","_determineURLParameters","browserTabID","getTabID","console","log","Rules","getAll","_checkRules","path","window","location","pathname","replace","EMoodleContext","LOGIN_PAGE","HOME_PAGE","PROFILE_PAGE","COURSE_PARTICIPANTS","COURSE_OVERVIEW_PAGE","MOD_PAGE","MOD_ASSIGNMENT","MOD_NEWSMOD","MOD_QUIZ","MOD_QUIZ_ATTEMPT","MOD_QUIZ_SUMMARY","MOD_QUIZ_REVIEW","UNKNOWN","param","parser","document","createElement","href","vars","search","substring","split","i","length","pair","decodeURIComponent","evaluateConditions","Condition","_addToActionQueue","Action","context","key","undefined","cons","result","condition","operator","EOperators","Equal","getLearnerModelKey","action","push","_processActionQueue","_this","localActions","filter","d","moodle_context","timing","ETiming","WHEN_VISIBLE","viewport_selector","DOMVPTracker","get","then","resolve","WHEN_IDLE","delay","sensor_idle","_executeAction","tmp","method","ERuleActor","Alert","text","Modal","initiateModal","Error","title","message","config","id","uniqid","content","header","body","footer","options","centerVertically","show","focus","keyboard","backdrop","animate","size","EModalSize","small","showCloseButton"],"mappings":"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"}